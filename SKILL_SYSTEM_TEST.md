# 技能系统快速测试指南

## 🚀 快速开始

### 1. 启动游戏
```bash
npm run dev
```
访问：http://localhost:5173

### 2. 创建角色
- 点击"创建新角色"
- 输入角色名称
- 选择职业（战士/法师/刺客/牧师）
- 点击创建

### 3. 进入冒险
- 在角色列表中点击"查看详情"
- 进入冒险界面

## ✅ 测试清单

### 基础功能测试

#### ✓ 默认技能验证
- [ ] 新角色自动拥有1个默认技能
- [ ] 默认技能已装备在槽位1
- [ ] 不同职业的默认技能不同
  - 战士：重斩 ⚔️
  - 法师：火球术 🔥
  - 刺客：背刺 🗡️
  - 牧师：治疗术 💚

#### ✓ 技能书掉落测试
1. 点击"寻找敌人"开始战斗
2. 击败怪物（点击"攻击"或使用技能）
3. 观察战斗日志中是否有技能书掉落提示
4. 打开背包查看是否获得技能书
5. 多次战斗测试掉落概率（约9%总掉落率）

#### ✓ 技能学习测试
1. 打开"📚 技能管理"
2. 查看"已学习技能"标签
3. 确认默认技能在列表中
4. 从背包中使用技能书（暂需手动测试）
5. 验证技能是否成功学习

#### ✓ 技能装备测试
1. 在"已学习技能"中选择一个技能
2. 点击"槽1"、"槽2"或"槽3"按钮
3. 切换到"已装备技能"标签
4. 确认技能已装备到对应槽位
5. 测试卸载功能

#### ✓ 技能使用测试
1. 确保角色有足够的MP
2. 开始战斗
3. 观察战斗界面的技能按钮
4. 点击技能按钮使用技能
5. 验证：
   - [ ] MP正确扣除
   - [ ] 伤害计算正确
   - [ ] 冷却时间显示
   - [ ] 战斗日志记录

#### ✓ 技能冷却测试
1. 使用一个有冷却时间的技能
2. 观察按钮变为禁用状态
3. 查看冷却倒计时（X秒）
4. 等待冷却结束
5. 确认技能可再次使用

#### ✓ 技能升级测试
1. 确保有足够的金币
2. 在技能管理中选择一个技能
3. 点击"升级"按钮
4. 确认：
   - [ ] 金币正确扣除
   - [ ] 技能等级提升
   - [ ] 伤害/MP/冷却数值变化
   - [ ] 升级费用随等级增加

### 高级功能测试

#### ✓ 职业限制测试
1. 战士角色尝试学习法师技能书
2. 应该提示"职业不符，无法学习此技能"
3. 学习通用或本职业技能应该成功

#### ✓ 技能转移测试
1. 确保账号背包中有"技能转移水晶"
2. 创建第二个角色
3. 在第一个角色的技能管理中点击"技能转移"
4. 选择要转移的技能
5. 输入第二个角色的ID（从角色列表复制）
6. 确认转移
7. 切换到第二个角色
8. 验证是否收到技能书

#### ✓ MP自动回复测试
1. 使用技能消耗MP
2. 观察MP条
3. 每2秒应自动回复2-5点MP
4. 验证不会超过最大MP

## 📊 数值平衡验证

### 伤害测试
记录以下数据并验证合理性：

| 技能 | 等级 | 基础伤害 | 实际伤害 | 角色攻击/魔法 |
|------|------|---------|---------|--------------|
| 重斩 | 1 | 25 | ? | ? |
| 重斩 | 5 | 45 | ? | ? |
| 火球术 | 1 | 30 | ? | ? |
| 闪电链 | 1 | 50 | ? | ? |

### MP消耗测试
| 技能 | 等级 | MP消耗 | 验证 |
|------|------|--------|------|
| 重斩 | 1 | 15 | ✓ |
| 重斩 | 5 | 23 | ✓ |
| 火球术 | 1 | 20 | ✓ |

### 冷却时间测试
| 技能 | 等级 | 冷却时间 | 验证 |
|------|------|----------|------|
| 重斩 | 1 | 3s | ✓ |
| 重斩 | 5 | 2.2s | ✓ |
| 冲锋 | 1 | 8s | ✓ |

## 🐛 已知问题

### 待解决
- [ ] 技能书使用功能需要在背包UI中添加"使用"按钮
- [ ] 技能特效（眩晕、灼烧等）暂未完全实现
- [ ] 技能动画效果待添加

### 已修复
- ✓ 技能系统初始化
- ✓ 默认技能自动装备
- ✓ 技能掉落机制
- ✓ 冷却时间计算

## 📝 测试场景

### 场景1：新手体验
1. 创建战士角色"测试战士"
2. 进入冒险
3. 查看默认技能"重斩"
4. 战斗3次，尝试获得技能书
5. 学习新技能并装备
6. 升级1个技能到Lv.2

**预期结果**：
- 流程顺畅
- 提示清晰
- 无报错

### 场景2：技能组合
1. 学习3个不同类型的技能
2. 装备到3个槽位
3. 在战斗中轮流使用
4. 观察MP消耗和回复
5. 验证冷却管理

**预期结果**：
- 技能切换流畅
- 资源管理合理
- 战斗节奏平衡

### 场景3：跨角色转移
1. 角色A学习稀有技能
2. 获得技能转移水晶
3. 创建角色B
4. 将技能转移给角色B
5. 角色B接收并学习技能

**预期结果**：
- 转移成功
- 水晶正确消耗
- 技能保留等级

## 🎯 性能测试

### 加载性能
- [ ] 技能数据加载时间 < 100ms
- [ ] 技能管理界面打开 < 200ms
- [ ] 战斗中技能响应 < 50ms

### 存储性能
- [ ] 技能数据自动保存
- [ ] 刷新页面数据保留
- [ ] 多角色数据不冲突

## 📈 改进建议

### 优先级高
1. 添加技能书"使用"按钮到背包界面
2. 实现技能特效的视觉反馈
3. 优化技能按钮布局（战斗界面）

### 优先级中
1. 添加技能快捷键（1、2、3）
2. 技能伤害浮动数字动画
3. 技能冷却进度条

### 优先级低
1. 技能成就系统
2. 技能图鉴
3. 技能组合技

## 📞 反馈

测试过程中发现问题请记录：
- 问题描述
- 复现步骤
- 预期行为
- 实际行为
- 截图/日志

---

**测试版本**：1.0  
**测试日期**：2025-10-24  
**测试人员**：_________
